-The final code is implemented using Timer1 phase correct pwm. 
 
-I have attached other pwm codes, in a seperate folder, for timer1 and timer0, which can be used directly on the basis of the application scenario. For example for driving a motor you will need a Phase Correct Pwm, but for trivial purposes like dimming the lights (leds), you can directly use the Fast PWM.

-Images related to the project are also attached.